<app-route-wrap>
    <div page-card-title>List of rides</div>
    <div page-card-subtitle>Home - Driver - History</div>
    <div page-card-content>
        <div class="table-container">
            <div *ngIf="rides.length; then ridesTable else emptyList"></div>
            <ng-template #ridesTable>
                <div class="scrollable-horizontally">
                    <mat-table #table [dataSource]="rides" class="table-nonsizing">
                        <ng-container matColumnDef="startLocation">
                            <mat-header-cell *matHeaderCellDef>Start Location</mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.startLocation}}</mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="endLocation">
                            <mat-header-cell *matHeaderCellDef>End Location</mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.destinationLocation}}</mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="type">
                            <mat-header-cell *matHeaderCellDef>Type</mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.state | rideStates}}</mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="action">
                            <mat-header-cell *matHeaderCellDef>Action</mat-header-cell>
                            <mat-cell *matCellDef="let element">
                                <button mat-flat-button color="primary" [routerLink]="['' + element.id]">View
                                </button>
                            </mat-cell>
                        </ng-container>
                        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
                    </mat-table>
                </div>
            </ng-template>
            <ng-template #emptyList>
                <div class="empty-list">
                    <p class="message">There are no rides history to show</p>
                </div>
            </ng-template>
            <mat-paginator
                #paginator
                [length]="totalCount"
                [pageSize]="paginationParameters.LIMIT"
                [pageIndex]="pageIndex"
                (page)="onPageChanges($event)"
                [hidePageSize]="true">
            </mat-paginator>
        </div>
    </div>
</app-route-wrap>
